---
title: "Connecting to a database"
author: "Pierrick Roger"
output:
  html_document:
    theme: null
package: biodb
abstract: |
  How to retrieve entries from databases.
vignette: |
  %\VignetteIndexEntry{Connecting to a database}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Connecting to a database

## Introduction

In this vignette, we will explain how to connect to a database and retrieve entries.

First you need to create an instance of the `Biodb` class:
```{r}
mybiodb <- biodb::Biodb()
```

## Getting the list of available databases

Several connectors are implemented in Biodb. You can get a list of with the following call:
```{r}
mybiodb$getDbsInfo()$getIds()
```

## Creating a connector

Creating a connector is done through the factory:
```{r}
conn <- mybiodb$getFactory()$getConn('kegg.compound')
```

## Getting an entry from the database

Retrieving an entry from the database is done using the `getEntry()` method:
```{r}
entry <- conn$getEntry('C00005')
```

## Accessing entry fields

From an entry instance, you can access different values stored in fields. Here is an example to get back the entry number (or accession number) used to obtain this entry:
```{r}
entry$getFieldValue('accession')
```

We can have a list of all available fields for an entry:
```{r}
entry$getFieldNames()
```

You can also get a data frame of the field values with the method `getFieldsAsDataFrame()`:
```{r}
entry$getFieldsAsDataframe()
```

## Closing biodb instance

Do not forget to terminate your biodb instance once you are done with it:
```{r}
mybiodb$terminate()
```
