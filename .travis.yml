language: r
cache: packages

r:
   - oldrel
   - release
   - devel

notifications:
 email:
  recipients:
   - pk.roger@icloud.com

env:
    - CHECK=yes
    - TESTTHAT_REPORTER=summary MODE=offline
    - TESTTHAT_REPORTER=summary MODE=online DBS=hmdb.metabolites FUNCTIONS=test.wrong.entry
    - TESTTHAT_REPORTER=summary MODE=online DBS=massbank
    - TESTTHAT_REPORTER=summary MODE=online DBS=peakforest.mass
    - TESTTHAT_REPORTER=summary MODE=online EXCLUDE_DBS=hmdb.metabolites,massbank,peakforest.mass

branches:
  only:
    - master
    - develop
    - /^release[/].*$/
    - /^testing[/]travis-.*$/

script:
    - ./travis-tests
      
#after_script:
#    - if [ -f tests/test.log ] ; then cat tests/test.log ; fi
